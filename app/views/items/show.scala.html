@(item: Item, comments: List[CommentRelation], giftListId: Long)

    @moreCss = @{
        val route = routes.Assets.at("stylesheets/item-detail.css")
        s"<link rel='stylesheet' media='screen' href='$route'>"
    }

    @moreJs = @{
        val route = routes.Assets.at("javascripts/item-detail.js")
        s"<script src='$route' type='text/javascript'></script>"
    }

@main(title = "WrapIt.in", moreCss = moreCss, moreJs = moreJs) {

    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <div class="container clearfix  ">
                <div class="navvy-item pull-left">
                    <a href="@routes.GiftLists.show(giftListId)"><span class="fui-triangle-left-large"></span></a>
                </div>
                <span class="navvy-title">WrapIt.in</span>
                @*<div class="navvy-item pull-right">*@
                    @*<a href="@routes.GiftLists.create()"><span class="fui-plus"></span></a>*@
                @*</div>*@
            </div>
        </div>
    </div>

    <div class="container list">
        <ul class="nav nav-list item-detail">
            <li class="image-cell">
                <div class="image-wrapper">
                    <div class="image-holder">
                        @if(item.getPhoto.isDefined && item.getPhoto.get.getPath.isDefined) {
                            <img src="@item.getPhoto.get.getPath">
                        } else {
                            <div class="item-icon icon-gift"></div>
                        }
                    </div>
                </div>
            </li>
            <li>
                <div class="mini-nav item-nav clearfix">
                    <a href="@item.url" class="btn btn-primary" target="_blank">See it online</a>
                    <a href="#fakelink" class="btn btn-primary pull-right">Mark bought</a>
                </div>
            </li>
            @for(comment <- comments) {
            <li class="comment-cell clearfix">
                <div class="comment-wrapper">
                    <div class="c-text">
                        @comment.getComment().get.note
                    </div>
                    <div class="c-author">
                        @comment.getUser().get.email
                    </div>
                </div>
            </li>
            }
            <li class="comment-add-cell">
                <input id="item-detail-comment" type="text" class="input-block-level" placeholder="Type a comment...">
                @*<div class="btn btn-primary" style="display: inline-block; padding: 7px 7px 8px 9px; margin-bottom: 1px"><i class="icon-plus"></i></div>*@
            </li>
        </ul>
    </div>

}

<script>
    // vars needed by the JS
    var itdGiftListId = @giftListId;
    var itdItemID = @item.id.getOrElse("");
</script>